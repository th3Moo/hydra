<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Register - Hydra Casino Gateway</title>
  <style>
    body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: #f1f5f9; min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
    .container { max-width: 500px; width: 100%; background: rgba(30,41,59,0.9); border-radius: 12px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
    h1 { color: #10B981; text-align: center; margin-bottom: 20px; }
    .form-group { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; font-weight: bold; }
    input, select { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #64748B; background: #1e293b; color: #f1f5f9; }
    button { width: 100%; padding: 12px; border: none; border-radius: 6px; font-weight: bold; background: #10B981; color: white; cursor: pointer; transition: background 0.3s; }
    button:hover { background: #059669; }
    .hidden { display: none; }
    .notification { margin: 10px 0; padding: 10px; border-radius: 6px; background: #1e293b; color: white; display: none; }
    .success { border-left: 4px solid #10B981; }
    .error { border-left: 4px solid #EF4444; }
    .login-link { margin-top: 15px; text-align: center; }
    .login-link a { color: #3B82F6; text-decoration: none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Create Account</h1>
    <div id="notification" class="notification"></div>
    <div id="step1">
      <div class="form-group"><label>Email Address</label><input type="email" id="email" required /></div>
      <div class="form-group"><label>Password</label><input type="password" id="password" required /></div>
      <div class="form-group"><label>Confirm Password</label><input type="password" id="confirm-password" required /></div>
      <button onclick="nextStep(2)">Continue</button>
    </div>
    <div id="step2" class="hidden">
      <div class="form-group"><label>CashApp Tag</label><input type="text" id="cashapp-tag" placeholder="$YourCashAppTag" required /></div>
      <div class="form-group"><label>TRC20 Wallet Address</label><input type="text" id="trc20-address" placeholder="T..." required /></div>
      <div class="form-group"><label>Default Payment Method</label>
        <select id="default-method"><option value="cashapp">CashApp</option><option value="trc20">TRC20 (USDT)</option></select>
      </div>
      <button onclick="registerUser()">Create Account</button>
    </div>
    <div id="step3" class="hidden">
      <h2 style="color:#10B981; text-align:center;">âœ… Account Created!</h2>
      <p>You can now log in.</p>
      <button onclick="window.location.href='index.html'">Go to Login</button>
    </div>
    <div class="login-link">Already have an account? <a href="index.html">Login here</a></div>
  </div>
  <script src="config.js"></script>
<script src="config.js"></script>
<script src="config.js"></script>
<script>
    const API_BASE = "https://your-sevalla-domain.com:5000";
    let currentStep = 1;
    function showNotification(message, type="success") {
      const n = document.getElementById("notification");
      n.textContent = message;
      n.className = `notification ${type}`;
      n.style.display = "block";
      setTimeout(()=>{ n.style.display = "none"; }, 3000);
    }
    function nextStep(step) {
      document.getElementById(`step${currentStep}`).classList.add("hidden");
      currentStep = step;
      document.getElementById(`step${currentStep}`).classList.remove("hidden");
    }
    async function registerUser() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const confirm = document.getElementById("confirm-password").value;
      const cashappTag = document.getElementById("cashapp-tag").value;
      const tronWallet = document.getElementById("trc20-address").value;
      const defaultMethod = document.getElementById("default-method").value;
      if (password !== confirm) { showNotification("Passwords do not match","error"); return; }
      try {
        const res = await fetch(`${API_BASE}/api/auth/register`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, password, cashappTag, tronWallet, defaultPaymentMethod: defaultMethod })
        });
        const data = await res.json();
        if (res.ok) { showNotification("Registration successful!","success"); nextStep(3); }
        else { showNotification(data.message || "Registration failed","error"); }
      } catch (err) { showNotification("Network error","error"); }
    }
  </script>
</body>
</html>